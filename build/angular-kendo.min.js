/*! angular-kendo 2013-06-24 */
"use strict";angular.module("kendo.directives",[]),angular.module("kendo.directives",[],function(a){var b=[];angular.forEach([kendo.ui,kendo.dataviz&&kendo.dataviz.ui],function(a){angular.forEach(a,function(a,c){c.match(/^[A-Z]/)&&"Widget"!==c&&b.push("kendo"+c)})}),a.value("kendoWidgets",b)}),angular.module("kendo.directives").provider("kendoDecorator",[function(){var a=this,b="$kendoOptionsDecorators",c={};a.addGlobalOptionsDecorator=function(a,b){if(angular.isString(a)&&angular.isFunction(b))return c[a]=c[a]||[],c[a].push(b),function(){c[a].splice(c[a].indexOf(b),1)};throw new Error("Illegal Arguments")},a.getGlobalOptionsDecorator=function(a){return c[a]||[]},a.$get=[function(){function c(a){var c=a.data(b);return angular.isArray(c)||(c=[],a.data(b,c)),c}function d(a,b,c){for(var d=0;d<b.length;d++)b[d](a,c)}function e(c,e,f){var g=a.getGlobalOptionsDecorator(e);d(c,g,f),g=c.data(b)||[],d(c,g,f)}function f(a,b){if(angular.isFunction(b)){var d=c(a);return d.push(b),function(){d.splice(d.indexOf(b),1)}}}return{getOptionsDecorator:c,addOptionsDecorator:f,decorateOptions:e}}]}]),angular.module("kendo.directives").factory("widgetFactory",["$parse","$log","kendoDecorator",function(a,b,c){var d={kDataSource:!0,kOptions:!0,kRebind:!0},e=function(e,f,g,h){var i=angular.element.extend(!0,{},e.$eval(g.kOptions)),j=/k(On)?([A-Z].*)/;return angular.forEach(g,function(c,f){if(!d[f]){var g,k,l=f.match(j);l&&(g=l[2].charAt(0).toLowerCase()+l[2].slice(1),l[1]?(k=a(c),i[g]=function(a){e.$apply(function(){k(e,{kendoEvent:a})})}):(i[g]=angular.copy(e.$eval(c)),void 0===i[g]&&c.match(/^\w*$/)&&b.warn(h+"'s "+f+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+c+"'?")))}}),i.dataSource=f.inheritedData("$kendoDataSource")||i.dataSource,c.decorateOptions(f,h,i),i},f=function(a,b,c,d){var f=e(a,b,c,d);return b[d](f).data(d)};return{create:f}}]),angular.module("kendo.directives").factory("directiveFactory",["widgetFactory","$timeout","$parse",function(a,b,c){function d(a,b,d,e){if(d[e]){var f=c(d[e]).assign;if(!f)throw new Error(e+" attribute used but expression in it is not assignable: "+d[e]);f(b,a)}}var e=function(c){return{restrict:"ACE",transclude:!0,require:"?ngModel",scope:!1,controller:["$scope","$attrs","$element","$transclude",function(a,b,c,d){d(function(a){c.append(a)})}],link:function(e,f,g,h){var i;b(function(){if(i=a.create(e,f,g,c),d(i,e,g,c),g.kRebind&&e.$watch(g.kRebind,function(b,h){b!==h&&(i=a.create(e,f,g,c),d(i,e,g,c))},!0),e.$on("$destroy",function(){i.destroy()}),h){if(!i.value)throw new Error("ng-model used but "+c+" does not define a value accessor");h.$render=function(){i.value(h.$viewValue)},i.bind("change",function(){e.$apply(function(){h.$setViewValue(i.value())})})}})}}};return{create:e}}]),function(a){var b=a.injector(["kendo.directives"]).get("kendoWidgets");a.forEach(b,function(b){a.module("kendo.directives").directive(b,["directiveFactory",function(a){return a.create(b)}])})}(angular),angular.module("kendo.directives").directive("kDataSource",[function(){var a=function(a){return kendo.data.DataSource.create(a)};return{restrict:"A",controller:["$scope","$attrs","$element",function(b,c,d){d.data("$kendoDataSource",a(b.$eval(c.kDataSource))),b.$watch(c.kDataSource,function(b,c){b!==c&&d.data("$kendoDataSource",a(b))})}]}}]),angular.module("kendo.directives").directive("kendoGrid",["$compile","kendoDecorator","$parse",function(a,b,c){function d(b,c,d){var e=c.data("kendoGrid"),f=e.tbody.children("tr");f.each(function(c,f){var g=b.$new();g.$index=c,g[d]=e.dataItem(f),a(f)(g)})}function e(a){var b=a.data("kendoGrid").tbody.children("tr.ng-scope");b.each(function(a,b){var c=angular.element(b).scope();c.$destroy()})}function f(a,b){return function(c,f){var g=f.dataBinding,h=f.dataBound;f.dataBound=function(){d(a,c,b),angular.isFunction(h)&&h()},f.dataBinding=function(){e(c),angular.isFunction(g)&&g()}}}function g(a,b){return function(c,d){d.change=function(c){var e,f,g,h,i,j,k={kendoEvent:c};angular.isString(d.selectable)&&(e=-1!==d.selectable.indexOf("cell"),f=-1!==d.selectable.indexOf("multiple")),g=k.selected=this.select(),h=k.data=[],i=k.columns=[];for(var l=0;l<g.length;l++){var m=this.dataItem(e?g[l].parentNode:g[l]);e?(angular.element.inArray(m,h)<0&&h.push(m),j=angular.element(g[l]).index(),angular.element.inArray(j,i)<0&&i.push(j)):h.push(m)}f||(k.data=h[0],k.selected=g[0]),a.$apply(function(){b(a,k)})}}}return{restrict:"ACE",link:function(a,d,e){b.addOptionsDecorator(d,f(a,"dataItem")),e.kOnChange&&b.addOptionsDecorator(d,g(a,c(e.kOnChange)))}}}]);